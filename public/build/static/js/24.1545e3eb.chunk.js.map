{"version":3,"sources":["assets/images/defalutAvatar.jpg","pages/My/My.jsx"],"names":["module","exports","My","state","messageCount","navs","title","num","path","tools","pathname","text","icon","className","style","color","fontSize","user","renderNavs","map","item","index","key","onClick","props","history","push","query","data","RenderTools","toolsItemClick","bind","initialPage","info","JSON","parse","localStorage","getItem","this","setState","src","avatar_url","defalutAvatar","alt","username","gender","overflowCount","console","log","type","size","Component","withRouter"],"mappings":"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","file":"static/js/24.1545e3eb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/defalutAvatar.63e13fb8.jpg\";","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Badge, Icon, Toast } from 'antd-mobile';\r\nimport { Layout } from '../../components/index'\r\nimport '../../assets/styles/My.scss'\r\n// 默认头像\r\nimport defalutAvatar from '../../assets/images/defalutAvatar.jpg'\r\n\r\nclass My extends Component {\r\n  state = {\r\n    messageCount: 1,\r\n    navs: [\r\n      {\r\n        title: '收藏', num: 4, path: '/my/collection'\r\n      },\r\n      {\r\n        title: '关注', num: 3, path: '/my/follow'\r\n      },\r\n      {\r\n        title: '足迹', num: 3, path: '/my/browserecord'\r\n      },\r\n      {\r\n        title: '余额', num: 666, path: '/my/purse'\r\n      },\r\n    ],\r\n    tools: [\r\n      {\r\n        pathname: '/my/order',\r\n        text: '待付款',\r\n        icon: <i className=\"iconfont\" style={{ color: '#f00', fontSize: 28 }}\r\n        >&#xe60e;</i>\r\n      },\r\n      {\r\n        pathname: '/my/order',\r\n        text: '待发货',\r\n        icon: <i className=\"iconfont\" style={{ color: '#f00', fontSize: 28 }}\r\n        >&#xe618;</i>\r\n      },\r\n      {\r\n        pathname: '/my/order',\r\n        text: '待收货',\r\n        icon: <i className=\"iconfont\" style={{ color: '#f00', fontSize: 28 }}\r\n        >&#xe6b8;</i>\r\n      },\r\n      {\r\n        pathname: '/my/order',\r\n        text: '待评价',\r\n        icon: <i className=\"iconfont\" style={{ color: '#f00', fontSize: 28 }}\r\n        >&#xe61a;</i>\r\n      },\r\n      {\r\n        pathname: '/my/aftersale',\r\n        text: '退款/售后',\r\n        icon: <i className=\"iconfont\" style={{ color: '#f00', fontSize: 28 }}\r\n        >&#xe61b;</i>\r\n      }\r\n    ],\r\n    user: {}\r\n  }\r\n\r\n  componentDidMount() {\r\n    const user = JSON.parse(localStorage.getItem('user')) || {}\r\n    this.setState({ user })\r\n  }\r\n  renderNavs = () => {\r\n    return (\r\n      <div className='top_nav'>\r\n        {this.state.navs.map((item, index) => (\r\n          <div className='top_nav-item' key={index}\r\n            onClick={() => {\r\n              this.props.history.push({\r\n                pathname: item.path,\r\n                query: { data : item }\r\n              })\r\n            }}\r\n          >\r\n            <span>{item.num}</span>\r\n            <span>{item.title}</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  RenderTools = () => {\r\n    return <div className='tools'>\r\n      {\r\n        this.state.tools.map((item, index) => (\r\n          <div className='tools_item'\r\n            key={index}\r\n            onClick={this.toolsItemClick.bind(this, {\r\n              pathname: item.pathname,\r\n              initialPage: index + 1,\r\n              text: item.text\r\n            })}>\r\n            {item.icon}\r\n            <div>{item.text}</div>\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  }\r\n  toolsItemClick = (item) => {\r\n    if (item.pathname === '/my/aftersale') {\r\n      Toast.info('此功能暂未开通', 1)\r\n      return\r\n    }\r\n    this.props.history.push({\r\n      pathname: item.pathname,\r\n      initialPage: item.initialPage,\r\n      text: item.text\r\n    })\r\n  }\r\n  render() {\r\n    const { messageCount, user } = this.state\r\n    return (\r\n      <Layout>\r\n        <div className='top'>\r\n          <div className='top_info'>\r\n            <div className='top_l' onClick={() => this.props.history.push('/login')}>\r\n              <img src={user.avatar_url || defalutAvatar} alt=\"\" />\r\n              {\r\n                user.username ? <div className='userInfo'>\r\n                  <div className='username'>{user.username || '请登录'}</div>\r\n                  <div className='userNav'>\r\n                    <div>{user.gender || ''}</div>\r\n                  </div>\r\n                </div> : <div className='userInfo'>\r\n                  <div className=\"username\">请登录</div>\r\n                </div>\r\n              }\r\n              \r\n            </div>\r\n            <div className='top-r'>\r\n              <i className=\"iconfont\" onClick={() => this.props.history.push('/search')}\r\n              >&#xe611;</i>\r\n              <i className=\"iconfont set\" \r\n                onClick={() => this.props.history.push('/my/setup')}\r\n              >&#xe602;</i>\r\n              {\r\n                messageCount > 0 ?\r\n                  <Badge text={messageCount} overflowCount={99} >\r\n                    <i className=\"iconfont\" \r\n                      onClick={() => {\r\n                        Toast.info('此功能暂未开通', 1)\r\n                        console.log('message')\r\n                      }}\r\n                    >&#xfe63;</i>\r\n                  </Badge> : <i className=\"iconfont\"\r\n                    onClick={() => {\r\n                      Toast.info('此功能暂未开通', 1)\r\n                      console.log('message')\r\n                    }}\r\n                  >&#xfe63;</i>\r\n              }\r\n\r\n            </div>\r\n          </div>\r\n          {this.renderNavs()}\r\n        </div>\r\n        <div className='MyOrder'>\r\n          <div className='title'>\r\n            <h3>我的订单</h3>\r\n            <div\r\n              onClick={this.toolsItemClick.bind(this, {\r\n                pathname: '/my/order',\r\n                initialPage: 0,\r\n                text: '全部'\r\n              })}\r\n            >\r\n              <span>查看全部</span>\r\n              <Icon type='right' size=\"14\" color=\"#999\" />\r\n            </div>\r\n          </div>\r\n          {this.RenderTools()}\r\n        </div>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(My)\r\n"],"sourceRoot":""}