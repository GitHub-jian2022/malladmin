(this.webpackJsonpmobile=this.webpackJsonpmobile||[]).push([[16],{200:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(105),a=n.n(r),o=n(106),s=n(14),i=n(86),c=n(26),u=function(e){var t=e.phone,n=e.password;return function(){var e=Object(o.a)(a.a.mark((function e(r){var o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.post(i.a.login,{phone:t,password:n});case 2:o=e.sent,u={type:s.b,data:o.data},r(u),c.a.setItem("token",JSON.stringify(o.data),2),r(l(o.data));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r,o,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.post(i.a.getUserInfo,{token:e});case 2:r=t.sent,o=r.data,localStorage.setItem("user",JSON.stringify(o)),c={type:s.a,data:o},n(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},201:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(252),a="useyourkey";function o(e){return r.AES.encrypt(e,a).toString()}},258:function(e,t){},259:function(e,t){},269:function(e,t){},270:function(e,t){},290:function(e,t){},292:function(e,t){},293:function(e,t){},294:function(e,t){},295:function(e,t){},302:function(e,t){},305:function(e,t){},311:function(e,t){},314:function(e,t){},380:function(e,t,n){},576:function(e,t,n){"use strict";n.r(t);n(228);var r=n(229),a=n.n(r),o=n(105),s=n.n(o),i=(n(71),n(72)),c=n.n(i),u=n(106),l=n(55),f=n(56),p=n(58),d=n(57),g=n(0),h=n.n(g),m=n(2),v=(n(380),n(25)),b=n(200),w=n(13),k=n(201),y=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).login=Object(u.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state,n=t.phone,a=t.password,!(""==n.trim()||n.length<11)){e.next=4;break}return c.a.fail("\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e",1),e.abrupt("return");case 4:if(""!=a.trim()){e.next=9;break}return c.a.fail("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",1),e.abrupt("return");case 9:if(!(a.length<6)){e.next=12;break}return c.a.fail("\u5bc6\u7801\u957f\u5ea6\u5e94\u4e0d\u5c0f\u4e8e6\u4f4d\u6570",1),e.abrupt("return");case 12:r.props.login({phone:n,password:Object(k.a)(a)});case 13:case"end":return e.stop()}}),e)}))),w.a.subscribe((function(){w.a.getState().usersReducer.token&&r.props.history.push("/index")})),r.state={phone:"10086100108",password:"123456"},r}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return h.a.createElement("div",{style:{position:"relative",height:"100vh"}},h.a.createElement("div",{className:"bg"}),h.a.createElement("div",{className:"login"},h.a.createElement("div",{className:"registered"},h.a.createElement("h3",null,"\u767b\u5f55"),h.a.createElement("span",{onClick:function(){e.props.history.push("/register")}},"\u70b9\u6b64\u6ce8\u518c")),h.a.createElement("div",{className:"phone"},h.a.createElement(a.a,{value:this.state.phone,placeholder:"\u624b\u673a\u53f7",clear:!0,onChange:function(t){return e.setState({phone:t})}})),h.a.createElement("div",{className:"password"},h.a.createElement(a.a,{value:this.state.password,type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",clear:!0,onChange:function(t){return e.setState({password:t})}})),h.a.createElement("div",{className:"login_btn",onClick:this.login},"\u767b\u5f55"),h.a.createElement("div",{className:"login_forget"},"\u5df2\u6709\u8d26\u53f7\uff0c\u5fd8\u8bb0\u5bc6\u7801\uff1f")))}}]),n}(g.Component);t.default=Object(m.g)(Object(v.b)(null,(function(e){return{login:function(t){e(Object(b.a)(t))}}}))(y))},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="http://47.100.138.242:8090/api",a="http://47.100.138.242:8090"},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return l}));n(71);var r=n(72),a=n.n(r),o=n(122),s=n.n(o),i=n(67),c=n(26),u=s.a.create({baseURL:i.a});u.interceptors.request.use((function(e){e.timeout=2e4;var t=c.a.getItem("token")||"";return t&&(e.headers.Authorization="Bearer "+t),e}),(function(e){return console.log("error: ",e),Promise.reject(e)})),u.interceptors.response.use((function(e){return console.log("response.data: ",e.data),(403===e.data.code||500===e.data.code)&&a.a.fail(e.data.msg,2,null,!0),e.data}),(function(e){return a.a.fail(e.response.msg,2,null,!0),Promise.reject(e)}));var l=u,f={login:"/user/login",register:"/user/register",getUserInfo:"/user/getUserInfo",getBanners:"/home/getBanners",getNavs:"/home/getNavs",getAdverts:"/home/getAdverts",getCate:"/cate",getCartList:"/alliance/cartList",getGoodsList:"/goods/list",getGoodInfo:"/alliance/goodInfo",getOrderList:"/alliance/order/list"}}}]);
//# sourceMappingURL=16.5f51a8a1.chunk.js.map