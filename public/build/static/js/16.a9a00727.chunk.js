(this.webpackJsonpmobile=this.webpackJsonpmobile||[]).push([[16],{200:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(106),r=n.n(a),o=n(107),s=n(14),i=n(87),c=n(30),u=function(e){var t=e.phone,n=e.password;return function(){var e=Object(o.a)(r.a.mark((function e(a){var o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.post(i.a.login,{phone:t,password:n});case 2:o=e.sent,u={type:s.b,data:o.data},a(u),c.a.setItem("token",JSON.stringify(o.data),2),a(l(o.data));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.post(i.a.getUserInfo,{token:e});case 2:a=t.sent,o=a.data,localStorage.setItem("user",JSON.stringify(o)),c={type:s.a,data:o},n(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},201:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(252),r="useyourkey";function o(e){return a.AES.encrypt(e,r).toString()}},258:function(e,t){},259:function(e,t){},269:function(e,t){},270:function(e,t){},290:function(e,t){},292:function(e,t){},293:function(e,t){},294:function(e,t){},295:function(e,t){},302:function(e,t){},305:function(e,t){},311:function(e,t){},314:function(e,t){},380:function(e,t,n){},576:function(e,t,n){"use strict";n.r(t);n(228);var a=n(229),r=n.n(a),o=n(106),s=n.n(o),i=(n(72),n(73)),c=n.n(i),u=n(107),l=n(24),f=n(25),p=n(27),d=n(26),g=n(0),h=n.n(g),m=n(2),v=(n(380),n(29)),b=n(200),w=n(13),k=n(201),y=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).login=Object(u.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.phone,r=t.password,!(""==n.trim()||n.length<11)){e.next=4;break}return c.a.fail("\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e",1),e.abrupt("return");case 4:if(""!=r.trim()){e.next=9;break}return c.a.fail("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",1),e.abrupt("return");case 9:if(!(r.length<6)){e.next=12;break}return c.a.fail("\u5bc6\u7801\u957f\u5ea6\u5e94\u4e0d\u5c0f\u4e8e6\u4f4d\u6570",1),e.abrupt("return");case 12:a.props.login({phone:n,password:Object(k.a)(r)});case 13:case"end":return e.stop()}}),e)}))),w.a.subscribe((function(){w.a.getState().usersReducer.token&&a.props.history.push("/index")})),a.state={phone:"10086100108",password:"123456"},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return h.a.createElement("div",{style:{position:"relative",height:"100vh"}},h.a.createElement("div",{className:"bg"}),h.a.createElement("div",{className:"login"},h.a.createElement("div",{className:"registered"},h.a.createElement("h3",null,"\u767b\u5f55"),h.a.createElement("span",{onClick:function(){e.props.history.push("/register")}},"\u70b9\u6b64\u6ce8\u518c")),h.a.createElement("div",{className:"phone"},h.a.createElement(r.a,{value:this.state.phone,placeholder:"\u624b\u673a\u53f7",clear:!0,onChange:function(t){return e.setState({phone:t})}})),h.a.createElement("div",{className:"password"},h.a.createElement(r.a,{value:this.state.password,type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",clear:!0,onChange:function(t){return e.setState({password:t})}})),h.a.createElement("div",{className:"login_btn",onClick:this.login},"\u767b\u5f55"),h.a.createElement("div",{className:"login_forget"},"\u5df2\u6709\u8d26\u53f7\uff0c\u5fd8\u8bb0\u5bc6\u7801\uff1f")))}}]),n}(g.Component);t.default=Object(m.g)(Object(v.b)(null,(function(e){return{login:function(t){e(Object(b.a)(t))}}}))(y))},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="http://47.100.138.242:8090/api",r="http://localhost:8090"},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return l}));n(72);var a=n(73),r=n.n(a),o=n(123),s=n.n(o),i=n(68),c=n(30),u=s.a.create({baseURL:i.a});u.interceptors.request.use((function(e){r.a.loading("Loading...",0,null,!0),e.timeout=2e4;var t=c.a.getItem("token")||"";return t&&(e.headers.Authorization="Bearer "+t),e}),(function(e){return console.log("error: ",e),r.a.hide(),Promise.reject(e)})),u.interceptors.response.use((function(e){return r.a.hide(),console.log("response.data: ",e.data),(403===e.data.code||500===e.data.code)&&r.a.fail(e.data.msg,2,null,!0),e.data}),(function(e){return r.a.fail(e.response.msg,2,null,!0),Promise.reject(e)}));var l=u,f={login:"/user/login",register:"/user/register",getUserInfo:"/user/getUserInfo",getBanners:"/home/getBanners",getNavs:"/home/getNavs",getAdverts:"/home/getAdverts",getCate:"/cate",getCartList:"/alliance/cartList",getGoodsList:"/goods/list",getGoodInfo:"/alliance/goodInfo",getOrderList:"/alliance/order/list"}}}]);
//# sourceMappingURL=16.a9a00727.chunk.js.map